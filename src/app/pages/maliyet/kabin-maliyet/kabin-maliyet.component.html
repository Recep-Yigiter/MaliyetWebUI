<div class="grid grid-cols-[2fr_2fr_2fr_3fr] gap-1 " style="display: grid; grid-template-columns:2fr 2fr 2fr 3fr ; gap: 4px;">


    <div  style="display: flex; flex-direction: column; border: 1px solid rgb(230, 230, 230); color: white; padding: 4px;">

        <kabin-maliyet-form [span]="170" [label]="'Tür'">
            <p-dropdown form-control [options]="turler" [(ngModel)]="frm.tur" optionLabel="ad"
                (ngModelChange)="onTurChange(frm.tur)" />
        </kabin-maliyet-form>
        <kabin-maliyet-form [span]="170" [label]="'Model'">
            <p-dropdown form-control [options]="modeller" [(ngModel)]="frm.model" optionLabel="ad"
                (ngModelChange)="onModelChange(frm.model)" />
        </kabin-maliyet-form>

        <kabin-maliyet-form [span]="170" [label]="'Zemin Kaplama'">
            <p-dropdown form-control [options]="zeminKaplamalar" [(ngModel)]="frm.zeminKaplama" optionLabel="ad"
                (ngModelChange)="onZeminKaplamaChange(frm.zeminKaplama)" />
        </kabin-maliyet-form>
        <kabin-maliyet-form [span]="170" [label]="'Kabin Kaplama'">
            <p-dropdown form-control [options]="kabinKaplamalar" [(ngModel)]="frm.kabinKaplama" optionLabel="ad"
                (ngModelChange)="onKabinKaplamaChange(frm.kabinKaplama)" />
        </kabin-maliyet-form>
    </div>

    <div style="display: flex; flex-direction: column; border: 1px solid rgb(230, 230, 230); color: white; padding: 4px;">
        <kabin-maliyet-form [span]="170" [label]="'Aksesuar Kaplama'">
            <p-dropdown form-control [options]="aksesuarKaplamalar" [(ngModel)]="frm.aksesuarKaplama" optionLabel="ad"
                (ngModelChange)="onAksesuarKaplamaChange(frm.aksesuarKaplama)" />
        </kabin-maliyet-form>
        <kabin-maliyet-form [span]="170" [label]="'Kapasite'">
            <p-dropdown form-control [options]="kapasiteler" [(ngModel)]="frm.kapasite" optionLabel="deger"
                (ngModelChange)="onKapasiteChange(frm.kapasite)" />
        </kabin-maliyet-form>
        <div (click)="urunleriGoster()" form-control style="display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer ; background-color: #7F1D1D;">
            Ürünleri Göster
        </div>
    </div>
    <div style="display: flex; flex-direction: column; border: 1px solid rgb(230, 230, 230); color: white; padding: 4px;">
        <kabin-maliyet-table [malzemeToplam]="malzemeToplam"></kabin-maliyet-table>
    </div>
    <div style="display: flex; flex-direction: column; border: 1px solid rgb(230, 230, 230); color: white; padding: 4px;">
        <kabin-fiyat-table></kabin-fiyat-table>
    </div>
</div>

<div  style="display: grid; grid-template-columns:1fr 1fr; gap: 12px;">
    <div>
        <kabin-malzeme-giderler-table [malzemeGiderler]="bilesenler" [selectedMalzemeGiderler]="selectedBilesenRow"
            [malzemeToplam]="malzemeToplam"></kabin-malzeme-giderler-table>
    </div>
    <div>
        <kabin-iscilik-giderler-table [iscilikGiderler]="iscilikGiderler"></kabin-iscilik-giderler-table>
        <kabin-genel-giderler-table [genelGiderler]="genelGiderler"
            [selectedGenelGiderler]="selectedBilesenRow"></kabin-genel-giderler-table>

    </div>
</div>

<p-dialog header="Header" [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }">
    <ng-template pTemplate="header">
        <span  style="font-size: 20px; font-weight: bold;">ÜRÜNLER</span>
    </ng-template>
    <p-table id="row-check" [value]="kabinler" dataKey="id" selectionMode="single" [(selection)]="selectedURUN"
        [scrollable]="true" scrollHeight="400px" [metaKeySelection]="true">
        <ng-template pTemplate="header">
            <tr>
                <th>Ad</th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-urun let-rowIndex="rowIndex">
            <tr [pSelectableRow]="urun" [pSelectableRowIndex]="rowIndex" [pEditableRow]="urun"
                (click)="onRowClickUrunler(urun)">
                <td>{{ urun.ad }}</td>
                <td>
                    İşlemler
                </td>
            </tr>
        </ng-template>
    </p-table>
    <ng-template pTemplate="footer" let-urun>
        <div (click)="Hesapla(selectedURUN)" style="background-color: #7F1D1D; display: flex; align-items: center; justify-content: center; font-weight: bold;cursor: pointer;"
            >
            Hesapla</div>
    </ng-template>
</p-dialog>